<!DOCTYPE html>
<!--
* CoreUI - Free Bootstrap Admin Template
* @version v3.0.0
* @link https://coreui.io
* Copyright (c) 2020 creativeLabs Łukasz Holeczek
* Licensed under MIT (https://coreui.io/license)
-->
<html lang="en">
  <head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta name="description" content="BIT Cloud Lab">
    <meta name="author" content="Łukasz Holeczek">
    <meta name="keyword" content="Bootstrap,Admin,Template,Open,Source,jQuery,CSS,HTML,RWD,Dashboard">
    <title>BIT Cloud Lab</title>
    <link rel="apple-touch-icon" sizes="57x57" href="assets/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <!-- Main styles for this application-->
    <link href="css/style.css" rel="stylesheet">
    <script src="/js/vue-2.6.11.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/vue-cookies.js"></script>
    <script src="/js/cloudlab.js"></script>
    <link href="/css/uploadfile.css" rel="stylesheet">
    <script src="/js/jquery-1.10.1.min.js"></script>
    <script src="/js/jquery.uploadfile.min.js"></script>
    <!-- script type="text/javascript" language="JavaScript">
      verify_token();
    </script -->
  </head>
  <body class="c-app">
    <!-- start left menu --> 
    <div class="c-sidebar c-sidebar-dark c-sidebar-fixed c-sidebar-lg-show" id="sidebar">
      <div class="c-sidebar-brand d-lg-down-none">
        <img class="c-sidebar-brand-full" width="140" height="46" alt="CloudLab Logo" src="/assets/brand/bit-cloud-lab.png">
        <img class="c-sidebar-brand-minimized" width="60" height="46" alt="CloudLab Logo" src="/assets/brand/bit-cloud-lab-logo.png">
      </div>
      <ul class="c-sidebar-nav">
        <li class="c-sidebar-nav-item">
          <a class="c-sidebar-nav-link" href="main">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-speedometer"></use>
            </svg> Dashboard
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="tooth/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
            </svg> Rotating Bending
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="torsion/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
            </svg> Torsion Test
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="tension/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
            </svg> Tension Test
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="tooth/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
            </svg> Gear Tooth Bending
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="mb/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
            </svg> Mechanics Behavior Test
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="experiment/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
            </svg> LCF
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="specimen/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-speedometer"></use>
            </svg> Specimen
          </a>
        </li>
        <li class="c-sidebar-nav-item c-sidebar-nav-dropdown">
          <a class="c-sidebar-nav-link" href="material/list">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-drop1"></use>
            </svg> Material
          </a>
        </li>
        <li class="c-sidebar-nav-item">
          <a class="c-sidebar-nav-link" href="main">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-chart-pie"></use>
            </svg> Predict
          </a>
        </li>
        <li class="c-sidebar-nav-item">
          <a class="c-sidebar-nav-link" href="main">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-bell"></use>
            </svg> Compare
          </a>
        </li>
        <li class="c-sidebar-nav-item">
          <a class="c-sidebar-nav-link" href="main">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-calculator"></use>
            </svg> Algorithm
          </a>
        </li>
        <li class="c-sidebar-nav-item">
          <a class="c-sidebar-nav-link" href="main">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-star"></use>
            </svg> Online Analysis
          </a>
        </li>
        <li class="c-sidebar-nav-item">
          <a class="c-sidebar-nav-link" href="main">
            <svg class="c-sidebar-nav-icon">
              <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-bug"></use>
            </svg> Online Experiments
          </a>
        </li>
      </ul>
      <button class="c-sidebar-minimizer c-class-toggler" type="button" data-target="_parent" data-class="c-sidebar-minimized"></button>
    </div>
    <div class="c-wrapper c-fixed-components">
      <header class="c-header c-header-light c-header-fixed c-header-with-subheader">
        <button class="c-header-toggler c-class-toggler d-lg-none mfe-auto" type="button" data-target="#sidebar" data-class="c-sidebar-show">
          <svg class="c-icon c-icon-lg">
            <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-menu"></use>
          </svg>
        </button><a class="c-header-brand d-lg-none" href="main">
          <img width="140" height="46" alt="CloudLab Logo" src="/assets/brand/bit-cloud-lab.png">
        <button class="c-header-toggler c-class-toggler mfs-3 d-md-down-none" type="button" data-target="#sidebar" data-class="c-sidebar-lg-show" responsive="true">
          <svg class="c-icon c-icon-lg">
            <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-menu"></use>
          </svg>
        </button>
        <ul class="c-header-nav d-md-down-none">
          <li class="c-header-nav-item px-3"><a class="c-header-nav-link" href="main">Dashboard</a></li>
          <li class="c-header-nav-item px-3"><a class="c-header-nav-link" href="main">Users</a></li>
          <li class="c-header-nav-item px-3"><a class="c-header-nav-link" href="main">Settings</a></li>
        </ul>
        <ul class="c-header-nav ml-auto mr-4">
          <li class="c-header-nav-item d-md-down-none mx-2"><a class="c-header-nav-link" href="main">
              <svg class="c-icon">
                <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-bell"></use>
              </svg></a></li>
          <li class="c-header-nav-item d-md-down-none mx-2"><a class="c-header-nav-link" href="main">
              <svg class="c-icon">
                <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-list-rich"></use>
              </svg></a></li>
          <li class="c-header-nav-item d-md-down-none mx-2"><a class="c-header-nav-link" href="main">
              <svg class="c-icon">
                <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-envelope-open"></use>
              </svg></a></li>
          <li class="c-header-nav-item dropdown"><a class="c-header-nav-link" data-toggle="dropdown" href="main" role="button" aria-haspopup="true" aria-expanded="false">
              <div class="c-avatar"><img class="c-avatar-img" src="/assets/img/avatars/6.jpg" alt="user@email.com"></div>
            </a>
            <div class="dropdown-menu dropdown-menu-right pt-0">
              <div class="dropdown-header bg-light py-2"><strong>Account</strong></div><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-bell"></use>
                </svg> Updates<span class="badge badge-info ml-auto">42</span></a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-envelope-open"></use>
                </svg> Messages<span class="badge badge-success ml-auto">42</span></a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-task"></use>
                </svg> Tasks<span class="badge badge-danger ml-auto">42</span></a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-comment-square"></use>
                </svg> Comments<span class="badge badge-warning ml-auto">42</span></a>
              <div class="dropdown-header bg-light py-2"><strong>Settings</strong></div><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-user"></use>
                </svg> Profile</a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-settings"></use>
                </svg> Settings</a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-credit-card"></use>
                </svg> Payments<span class="badge badge-secondary ml-auto">42</span></a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-file"></use>
                </svg> Projects<span class="badge badge-primary ml-auto">42</span></a>
              <div class="dropdown-divider"></div><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-lock-locked"></use>
                </svg> Lock Account</a><a class="dropdown-item" href="main">
                <svg class="c-icon mr-2">
                  <use xlink:href="vendors/@coreui/icons/svg/free.svg#cil-account-logout"></use>
                </svg> Logout</a>
            </div>
          </li>
        </ul>
        <div class="c-subheader px-3">
          <!-- Breadcrumb-->
          <ol class="breadcrumb border-0 m-0">
            <li class="breadcrumb-item"><a href="main">Home</a></li>
            <li class="breadcrumb-item"><a href="tooth/list">GTB Test List</a></li>
            <li class="breadcrumb-item active"><a href="tooth/new">GTBs Test</a></li>
            <!-- Breadcrumb Menu-->
          </ol>
        </div>
      </header>
      <!-- end header --> ]
      <!-- start main body -->
      <div class="c-body">
        <main class="c-main">
          <div class="container-fluid">
            <div class="fade-in">
              <div class="card">
                <div class="card-header">
                  <i class="fa fa-align-justify"> </i> Modify The Tooth Test
                </div>
                <div class="card-body">
                  <form id = "update_rotating">
                    <div v-if="errors.length > 0" class="card-body">
                      <div v-for="error in errors" :key="error.message" class="alert alert-danger" role="alert">[[ error.message ]]</div>
                    </div>

                    <label for="tooth.sname">Gear Label</label>
                    <input v-model="tooth.sname" class="form-control" id="sname" type="text">

                    <label for="tooth.mid">Material</label>
                    <select v-model="tooth.mid" class="form-control">
                      <option value="0">Please Select A Material</option>
                      <option v-for="material in materials" v-bind:value="material.mid">
                        [[ material.mname ]]
                    </option>
                    </select>

                    <label for="tooth.nooftheeth">No of Teeth</label>
                    <input v-model="tooth.nooftheeth" class="form-control" id="nooftheeth" type="numeric">

                    <label for="tooth.toothwidth">Tooth Width(mm)</label>
                    <select v-model="tooth.toothwidth" class="form-control" id="toothwidth" >
                      <option value="0">Please Select :</option>
                      <option value="1">25</option>
                      <option value="2">20</option>
                    </select>

                    <label for="tooth.modulus">Modulus(mm)</label>
                    <select v-model="tooth.modulus" class="form-control" id="modulus" >
                      <option value="0">Please Select :</option>
                      <option value="1">6</option>
                      <option value="2">4</option>
                      <option value="3">8</option>
                      <option value="4">3</option>
                    </select>

                    <label for="tooth.meanload">Mean Load(KN)</label>
                    <input v-model="tooth.meanload" class="form-control" id="meanload" type="numeric" @input=calMaxLoad>

                    <label for="tooth.ampload">Amp Load(KN)</label>
                    <input v-model="tooth.ampload" class="form-control" id="ampload" type="numeric"  @input="calMaxLoad">

                    <label for="tooth.frequency">Frequency(Hz)</label>
                    <input v-model="tooth.frequency" class="form-control" id="frequency" type="numeric">

                    <label for="tooth.ratioofload">Ratio Of Load</label>
                    <!-- p><div id="ratioofload">[[ tooth.ratioofload ]]</div></p -->
                    <input v-model="tooth.ratioofload" class="form-control" id="ratioofload" type="numeric">

                    <label for="tooth.fracturemode">Fracture Mode</label>
                    <select v-model="tooth.fracturemode" class="form-control" id="fracturemode" >
                      <option value="0">Please Select :</option>
                      <option value="1">Normal</option>
                      <option value="2">Abnomal</option>
                      <option value="3">Pefect</option>
                      <option value="4">Breakage</option>
                    </select>

                    <label for="tooth.FatigueLifeNf">Fatigue Life Nf</label>
                    <input v-model="tooth.FatigueLifeNf" class="form-control" id="FatigueLifeNf" type="numeric">
                                                            
                    <label for="tooth.runoutcycles">Run Out Cycles</label>
                    <select v-model="tooth.runoutcycles" class="form-control" id="runoutcycles" >
                      <option value="0">Please Select :</option>
                      <option value="1">1E6</option>
                      <option value="2">3E6</option>
                      <option value="3">1E7</option>
                      <option value="4">5E7</option>
                    </select>

                    <label for="tooth.runouttime">Run Out Time</label>
                    <select v-model="tooth.runouttime" class="form-control" id="runouttime" >
                      <option value="0">Please Select :</option>
                      <option value="1">NULL</option>
                      <option value="2">1</option>
                      <option value="3">2</option>
                      <option value="4">3</option>
                    </select>

                    <label for="tooth.description">Description</label>
                    <input v-model="tooth.description" class="form-control" id="description" type="textarea">

                    <label for="tooth.pic1">Picture. Fractured Surfaces On Left</label><p>
                      <div id="status_1">[[ tooth.pic1 ]]</div></p>
                      <div id="upload_pic1">Upload</div>
                     
                    <label for="tooth.pic2">Picture. Fractured Surfaces On Right</label><p>
                      <div id="status_2">[[ tooth.pic2 ]]</div></p>
                      <div id="upload_pic2">Upload</div>

                    <label for="tooth.pic3">Picture. Axis Direction</label><p>
                      <div id="status_3">[[ tooth.pic3 ]]</div></p>
                      <div id="upload_pic3">Upload</div>

                    <div class="card-footer">
                      <button class="btn btn-sm btn-primary" type="button" v-on:click="checkTooth">Modify</button>
                      <button class="btn btn-sm btn-danger" type="button" v-on:click="resetTooth">Reset</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </main>
        <!-- end main body -->
      </div>
    </div>
    <!-- end right body -->
    <!-- CoreUI and necessary plugins-->
    <script src="/vendors/@coreui/coreui/js/coreui.bundle.min.js"></script>
    <!--[if IE]><!-->
    <script src="/vendors/@coreui/icons/js/svgxuse.min.js"></script>
    <!--<![endif]-->
    <!-- Plugins and scripts required by this view-->
    <script src="/vendors/@coreui/chartjs/js/coreui-chartjs.bundle.js"></script>
    <script src="/vendors/@coreui/utils/js/coreui-utils.js"></script>

    <script type="text/javascript" language="JavaScript">
      var vue_th = new Vue({
        el: "#update_rotating",
        data: {
          errors: [],
          tooth: {
            tooth_id      : 0,
            sname         : "",
            mid           : 0,
            nooftheeth    : 0,
            meanload      : 0,
            ampload       : 0,
            frequency     : 0,
            ratioofload   : 0,
            FatigueLifeNf : 0,
            fracturemode  : 0,
            modulus       : 0,
            toothwidth    : 0,
            runoutcycles  : 0,
            runouttime    : 0,
            description   : "",
            pic1          : "",
            pic2          : "",
            pic3          : ""
          },
          dsp: {
            maxload : 0,
            rol: 0
          },
          materials: []
        },
        methods: {
          grateThanZero(numeric, varname) {
            result = true;
            if (numeric == null) {
              this.errors.push({'message': varname + ' is required.'});
              result = false;
            } else if (isNaN(numeric)) {
              this.errors.push({'message': varname + ' must be a valid number.'});
              result = false;
            } else if (numeric <= 0) {
              this.errors.push({'message': varname + ' must be a valid number grate than zero.'});
              result = false;
            }
            return result;
          },
          mustBeNumeric(numeric, varname) {
            result = true;
            if (numeric == null) {
              this.errors.push({'message': varname + ' is required.'});
              result = false;
            } else if (isNaN(numeric)) {
              this.errors.push({'message': varname + ' must be a valid number.'});
              result = false;
            }
            return result;
          },
          mustInRange(numeric, themin, themax, varname) {
            result = true;
            if (numeric == null) {
              this.errors.push({'message': varname + ' is required.'});
              result = false;
            } else if (isNaN(numeric)) {
              this.errors.push({'message': varname + ' must be a valid number.'});
              result = false;
            } else if (numeric < themin || numeric > themax) {
              this.errors.push({'message': varname + ' must be in ' + themin + 
                                ' and ' + themax + '.'});
              result = false;
            }
            return result;
          },
          mustBeString(thestr, varname) {
            result = true;
            if (thestr == null || thestr == "") {
              this.errors.push({'message': varname + ' is required.'});
              result = false;
            }
            return result;
          },
          completedForm: function() {
            result = this.mustBeString(this.tooth.sname, "Specimen Name");
            result = result & this.grateThanZero(this.tooth.mid,  "Material");
            result = result & this.grateThanZero(this.tooth.nooftheeth,     "No. Of Theeth");
            result = result & this.mustBeNumeric(this.tooth.meanload,          "Mean Load");
            result = result & this.mustBeNumeric(this.tooth.ampload,    "Amp Load");
            result = result & this.grateThanZero(this.tooth.frequency,     "Frequency");
            // result = result & this.mustBeNumeric(this.tooth.maxload,    "Max Load");
            result = result & this.grateThanZero(this.tooth.fracturemode,     "Fracture Mode");
            result = result & this.grateThanZero(this.tooth.toothwidth,     "Tooth Width");
            result = result & this.grateThanZero(this.tooth.modulus,     "Modulus");
            result = result & this.mustBeNumeric(this.tooth.FatigueLifeNf, "Fatigue Life Nf");
            // result = result & this.mustBeNumeric(this.tooth.lp,            "lp");
            // result = result & this.mustBeNumeric(this.tooth.stress,        "Stress");
            result = result & this.grateThanZero(this.tooth.runoutcycles,  "Run Out Cycles");
            result = result & this.grateThanZero(this.tooth.runouttime,    "Run Out Time");
            // result = result & this.mustBeNumeric(this.tooth.description,   "Description");
            // result = result & this.mustBeNumeric(this.tooth.pic1,          "Pic1");
            // result = result & this.mustBeNumeric(this.tooth.pic2,          "Pic2");
            // result = result & this.mustBeNumeric(this.tooth.pic3,          "Pic3");
            // result = result & this.mustBeNumeric(this.tooth.ratioofload, "Ratio Of Load");

            return result;
          },
          checkTooth: function (e) {            
            this.errors = [];
            if (this.completedForm() == true) {
              console.log(this.tooth);
              axios
              .post('/updateth', this.tooth)
              .then(res => {
                console.log(res.data);
                if (res.data.message == "ok") {
                  alert("Ok! The test was modified");
                  document.location = "/tooth/detail/{{ thooth_id }}";
                } else {
                  alert("An Error Occured");
                }
              }).catch(function (err) {
                console.log(err);
                alert("An Error Occured");
              });
            }
            e.preventDefault();
          },
          resetTooth: function(e) {
            this.errors = [];
            this.tooth.tooth_id      = 0;
            this.tooth.sname         = "";
            this.tooth.mid           = 0;
            this.tooth.nooftheeth    = 0;
            this.tooth.meanload      = 0;
            this.tooth.ampload       = 0;
            this.tooth.frequency     = 0;
            this.tooth.ratioofload   = 0;
            this.tooth.FatigueLifeNf = 0;
            this.tooth.fracturemode  = 0;
            this.tooth.modulus       = 0;
            this.tooth.toothwidth    = 0;
            this.tooth.runoutcycles  = 0;
            this.tooth.runouttime    = 0;
            this.tooth.description   = "";
            this.tooth.pic1          = "";
            this.tooth.pic2          = "";
            this.tooth.pic3          = "";
            e.preventDefault();
          },
          calMaxLoad: function() {
            /*this.tooth.maxload = parseFloat(this.tooth.meanload) + parseFloat(this.tooth.ampload);
            this.dsp.maxload = Math.round((this.tooth.maxload + Number.EPSILON) * 1000) / 1000;
            var minload = parseFloat(this.tooth.meanload) - parseFloat(this.tooth.ampload);
            if (this.tooth.maxload != 0) {
              this.tooth.ratioofload = minload / this.tooth.maxload;
              this.dsp.rol = Math.round((this.tooth.ratioofload + Number.EPSILON) * 1000) / 1000;;
            }*/
          }
        },
        mounted() {
          // verify_token();
          axios
          .get('/material')
          .then(res => {
            this.materials = res.data;
            // console.log(this.materials);
          })
          .catch(err => {
            console.log(err);
          });
          axios
          .get('/tooth/{{ tooth_id }}')
          .then(res => {
            this.tooth = res.data;
            // console.log(this.exp);
            // this.dsp.maxload = Math.round((this.tooth.maxload + Number.EPSILON) * 1000) / 1000;
            // this.dsp.rol = Math.round((this.tooth.ratioofload + Number.EPSILON) * 1000) / 1000;;
          })
          .catch(err => {
            console.log(err);
          });
        },
        delimiters: ['[[',']]']
      });

      $(document).ready(function()
      {
          var settings_1 = {
              url: "/uptooth",
              method: "POST",
              allowedTypes:"jpg,png,gif",
              fileName: "myfile",
              multiple: false,
              onSuccess:function(files,data,xhr)
              {
                vue_th.tooth.pic1 = files[0];
                $("#status_1").html("<font color='green'>Upload " + files[0] + " is success</font>");
              },
              onError: function(files,status,errMsg)
              {       
                vue_th.tooth.pic1 = "";
                $("#status_1").html("<font color='red'>Upload " + files[0] + " is Failed</font>");
              }
          }

          var settings_2 = {
              url: "/uptooth",
              method: "POST",
              allowedTypes:"jpg,png,gif",
              fileName: "myfile",
              multiple: false,
              onSuccess:function(files,data,xhr)
              {
                vue_th.tooth.pic2 = files[0];
                $("#status_2").html("<font color='green'>Upload " + files[0] + " is success</font>");
              },
              onError: function(files,status,errMsg)
              {       
                vue_th.tooth.pic2 = "";
                $("#status_2").html("<font color='red'>Upload " + files[0] + " is Failed</font>");
              }
          }

          var settings_3 = {
              url: "/uptooth",
              method: "POST",
              allowedTypes:"jpg,png,gif",
              fileName: "myfile",
              multiple: false,
              onSuccess:function(files,data,xhr)
              {
                vue_th.tooth.pic3 = files[0];
                $("#status_3").html("<font color='green'>Upload " + vue_th.tooth.pic3 + " is success</font>");
              },
              onError: function(files,status,errMsg)
              {
                vue_th.tooth.pic3 = "";
                $("#status_3").html("<font color='red'>Upload " + files[0] + " is Failed</font>");
              }
          }

          $("#upload_pic1").uploadFile(settings_1);
          $("#upload_pic2").uploadFile(settings_2);
          $("#upload_pic3").uploadFile(settings_3);
      });
    </script>      

  </body>
</html>
